<!DOCTYPE html>
<html>
@@include('./part/head.html')
<title>邻里圈</title>
<link rel="stylesheet" type="text/css" href="./css/neighbor.css">
<body>
  <header id="header" class="mui-bar mui-bar-nav">  
    <h1 class="mui-title">邻里圈</h1>
    <a class="mui-action-back mui-btn mui-btn-blue mui-btn-link mui-btn-nav mui-pull-left" href="index.html"><span class="mui-icon mui-icon-left-nav"></span>首页</a>
    <button class="mui-btn mui-btn-blue mui-btn-link mui-pull-right">发表<span class="mui-icon mui-icon-plusempty"></span></button>
  </header>

  <nav class="mui-bar mui-bar-tab">
    <a class="mui-tab-item mui-active" href="#">
      <span class="mui-icon mui-icon-home"></span>
      <span class="mui-tab-label">首页</span>
    </a>
    <a class="mui-tab-item" href="#">
      <span class="mui-icon fa fa-circle-o"></span>
      <span class="mui-tab-label">邻里圈</span>
    </a>
    <a class="mui-tab-item" href="#">
      <span class="mui-icon fa fa-user"></span>
      <span class="mui-tab-label">我的</span>
    </a>
  </nav>
  
  <div class="mui-content">
    <ul id="list" class="mui-table-view mui-table-view-chevron">
      <li class="mui-table-view-cell">
        <a class="mui-navigate-right" href="examples/accordion.html">
          <i class="fa fa-envelope-o" aria-hidden="true"></i>
          <span class="mui-badge">共1188条</span>
          便民信息
        </a>
      </li>
      <li class="mui-table-view-cell">
        <a class="mui-navigate-right" href="examples/accordion.html">
          <i class="fa fa-camera-retro" aria-hidden="true"></i>
          <span class="mui-badge">共88个</span>
          邻里活动专区
        </a>
      </li>
      <li class="mui-table-view-cell">
        <a class="mui-navigate-right" href="examples/accordion.html">
          <i class="fa fa-television" aria-hidden="true"></i>
          <span class="mui-badge">共88个</span>
          跳蚤市场专区
        </a>
      </li>
    </ul>

    <ul id="list" class="mui-table-view mui-table-view-chevron">
      <li class="mui-table-view-cell">
        <a class="mui-navigate-right" href="examples/accordion.html">
          <span class="neightbor-top">置顶</span>
          #话题讨论#小区流浪狗较多如何解决
        </a>
      </li>
      <li class="mui-table-view-cell">
        <a class="mui-navigate-right" href="examples/accordion.html">
          <span class="neightbor-top">置顶</span>
          #话题讨论#小区流浪狗较多如何解决
        </a>
      </li>
      <li class="mui-table-view-cell">
        <a class="mui-navigate-right" href="examples/accordion.html">
          <span class="neightbor-top">置顶</span>
          #话题讨论#小区流浪狗较多如何解决
        </a>
      </li>
    </ul>

    <div id="scroll1">
      <div class="mui-scroll">
        <ul class="mui-table-view">
          <li class="mui-table-view-cell">
            <div class="neighbor-info">
              <div class="neighbor-info-header">
                <img src="./img/neightbor/header.png">
                <div class="f-info">
                  <span class="f-nick">安迪</span>
                  <span class="f-date">2016.08.08</span>
                </div>
              </div>
              <div class="neighbor-info-content">
                <h5>#话题大讨论#小区流浪狗较多如何解决?</h5>
                <p>出于小区卫生环境考虑，再发布之前，楼主先表明自己观点</p>
                <div class="neighbor-info-img-3">
                  <img src="./img/neightbor/mao.png">
                  <img src="./img/neightbor/mao1.png">
                  <img src="./img/neightbor/mao2.png">
                </div>
              </div>
            </div>
          </li>
          <li class="mui-table-view-cell">
            <div class="neighbor-info">
              <div class="neighbor-info-header">
                <img src="./img/neightbor/header.png">
                <div class="f-info">
                  <span class="f-nick">安迪</span>
                  <span class="f-date">2016.08.08</span>
                </div>
              </div>
              <div class="neighbor-info-content">
                <h5>#话题大讨论#小区流浪狗较多如何解决?</h5>
                <p>出于小区卫生环境考虑，再发布之前，楼主先表明自己观点</p>
                <div class="neighbor-info-img-3">
                  <img src="./img/neightbor/mao.png">
                  <img src="./img/neightbor/mao1.png">
                  <img src="./img/neightbor/mao2.png">
                </div>
              </div>
            </div>
          </li>
          <li class="mui-table-view-cell">
            <div class="neighbor-info">
              <div class="neighbor-info-header">
                <img src="./img/neightbor/header.png">
                <div class="f-info">
                  <span class="f-nick">安迪</span>
                  <span class="f-date">2016.08.08</span>
                </div>
              </div>
              <div class="neighbor-info-content">
                <h5>#话题大讨论#小区流浪狗较多如何解决?</h5>
                <p>出于小区卫生环境考虑，再发布之前，楼主先表明自己观点</p>
                <div class="neighbor-info-img-3">
                  <img src="./img/neightbor/mao.png">
                  <img src="./img/neightbor/mao1.png">
                  <img src="./img/neightbor/mao2.png">
                </div>
              </div>
            </div>
          </li>
          <li class="mui-table-view-cell">
            <div class="neighbor-info">
              <div class="neighbor-info-header">
                <img src="./img/neightbor/header.png">
                <div class="f-info">
                  <span class="f-nick">安迪</span>
                  <span class="f-date">2016.08.08</span>
                </div>
              </div>
              <div class="neighbor-info-content">
                <h5>#话题大讨论#小区流浪狗较多如何解决?</h5>
                <p>出于小区卫生环境考虑，再发布之前，楼主先表明自己观点</p>
                <div class="neighbor-info-img-3">
                  <img src="./img/neightbor/mao.png">
                  <img src="./img/neightbor/mao1.png">
                  <img src="./img/neightbor/mao2.png">
                </div>
              </div>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </div>
@@include('./part/footer.html')

<script src="./pkgs/mui/dist/js/mui.pullToRefresh.js"></script>
<script src="./pkgs/mui/dist/js/mui.pullToRefresh.material.js"></script>
<script>
  mui.init({
    swipeBack:true //启用右滑关闭功能
  });

  var deceleration = mui.os.ios?0.003:0.0009;
  mui('#scroll1').scroll({
    bounce: false,
    indicators: true, //是否显示滚动条
    deceleration:deceleration
  });
  $.each(document.querySelectorAll('#scroll1 .mui-scroll'), function(index, pullRefreshEl) {
    mui(pullRefreshEl).pullToRefresh({
      down: {
        callback: function() {
          var self = this;
          setTimeout(function() {
            var ul = self.element.querySelector('.mui-table-view');
            ul.insertBefore(createFragment(ul, index, 10, true), ul.firstChild);
            self.endPullDownToRefresh();
          }, 1000);
        }
      },
      up: {
        callback: function() {
          var self = this;
          setTimeout(function() {
            var ul = self.element.querySelector('.mui-table-view');
            ul.appendChild(createFragment(ul, index, 5));
            self.endPullUpToRefresh();
          }, 1000);
        }
      }
    });
  });
  var createFragment = function(ul, index, count, reverse) {
    var length = ul.querySelectorAll('li').length;
    var fragment = document.createDocumentFragment();
    var li;
    var html = '<div class="neighbor-info">'
                + '<div class="neighbor-info-header">'
                  + '<img src="./img/neightbor/header.png">'
                  + '<div class="f-info">'
                    + '<span class="f-nick">安迪</span>'
                    + '<span class="f-date">2016.08.08</span>'
                  + '</div>'
                + '</div>'
                + '<div class="neighbor-info-content">'
                  + '<h5>#话题大讨论#小区流浪狗较多如何解决?</h5>'
                  + '<p>出于小区卫生环境考虑，再发布之前，楼主先表明自己观点</p>'
                  + '<div class="neighbor-info-img-3">'
                    + '<img src="./img/neightbor/mao.png">'
                    + '<img src="./img/neightbor/mao1.png">'
                    + '<img src="./img/neightbor/mao2.png">'
                  + '</div>'
                + '</div>'
              + '</div>';
    for (var i = 0; i < count; i++) {
      li = document.createElement('li');
      li.className = 'mui-table-view-cell';
      li.innerHTML = html;
      fragment.appendChild(li);
    }
    return fragment;
  };
</script>
</body>
</html>