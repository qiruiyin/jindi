<!DOCTYPE html>
<html>
@@include('./part/head.html')
<title>便民信息</title>
<link rel="stylesheet" type="text/css" href="./css/neighbor.css">
<body>
  <header class="mui-bar mui-bar-nav">
    <a class="mui-icon mui-icon-back" href="####"></a>
    <h1 class="mui-title">便民信息</h1>
  </header>
  <div class="mui-content">
    <ul id="list" class="mui-table-view mui-table-view-chevron">
      <li class="mui-table-view-cell">
        <a class="mui-navigate-right" href="examples/accordion.html">
          <span class="neightbor-top">置顶</span>
          #话题讨论#小区流浪狗较多如何解决
        </a>
      </li>
      <li class="mui-table-view-cell">
        <a class="mui-navigate-right" href="examples/accordion.html">
          <span class="neightbor-top">置顶</span>
          #话题讨论#小区流浪狗较多如何解决
        </a>
      </li>
      <li class="mui-table-view-cell">
        <a class="mui-navigate-right" href="examples/accordion.html">
          <span class="neightbor-top">置顶</span>
          #话题讨论#小区流浪狗较多如何解决
        </a>
      </li>
    </ul>

    <div id="scroll1">
      <div class="mui-scroll" style="background: #fff;">
        <ul class="mui-table-view">
          <li class="mui-table-view-cell">
            <div class="neighbor-info">
              <div class="neighbor-info-header">
                <img src="./img/neightbor/header.png">
                <div class="f-info">
                  <span class="f-nick">物业</span>
                  <span class="f-date">28分钟前</span>
                </div>
              </div>
              <div class="neighbor-info-content">
                <h5>停水通知</h5>
                <p>小区自来水管道维修，与6月28日停水一天</p>
                <div class="neighbor-info-img-3">
                  <img src="./img/neightbor/mao.png">
                </div>
              </div>
            </div>
          </li>
          <li class="mui-table-view-cell">
            <div class="neighbor-info">
              <div class="neighbor-info-header">
                <img src="./img/neightbor/header.png">
                <div class="f-info">
                  <span class="f-nick">物业</span>
                  <span class="f-date">28分钟前</span>
                </div>
              </div>
              <div class="neighbor-info-content">
                <h5>停水通知</h5>
                <p>小区自来水管道维修，与6月28日停水一天</p>
                <div class="neighbor-info-img-3">
                  <img src="./img/neightbor/mao.png">
                </div>
              </div>
            </div>
          </li>
          <li class="mui-table-view-cell">
            <div class="neighbor-info">
              <div class="neighbor-info-header">
                <img src="./img/neightbor/header.png">
                <div class="f-info">
                  <span class="f-nick">物业</span>
                  <span class="f-date">28分钟前</span>
                </div>
              </div>
              <div class="neighbor-info-content">
                <h5>停水通知</h5>
                <p>小区自来水管道维修，与6月28日停水一天</p>
                <div class="neighbor-info-img-3">
                  <img src="./img/neightbor/mao.png">
                </div>
              </div>
            </div>
          </li>
          <li class="mui-table-view-cell">
            <div class="neighbor-info">
              <div class="neighbor-info-header">
                <img src="./img/neightbor/header.png">
                <div class="f-info">
                  <span class="f-nick">物业</span>
                  <span class="f-date">28分钟前</span>
                </div>
              </div>
              <div class="neighbor-info-content">
                <h5>停水通知</h5>
                <p>小区自来水管道维修，与6月28日停水一天</p>
                <div class="neighbor-info-img-3">
                  <img src="./img/neightbor/mao.png">
                </div>
              </div>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </div>
@@include('./part/footer.html')

<script src="./pkgs/mui/dist/js/mui.pullToRefresh.js"></script>
<script src="./pkgs/mui/dist/js/mui.pullToRefresh.material.js"></script>
<script>
  mui.init({
    swipeBack:true //启用右滑关闭功能
  });

  var deceleration = mui.os.ios?0.001:0.0001;
  mui('#scroll1').scroll({
    bounce: false,
    indicators: true, //是否显示滚动条
    deceleration:deceleration
  });
  $.each(document.querySelectorAll('#scroll1 .mui-scroll'), function(index, pullRefreshEl) {
    mui(pullRefreshEl).pullToRefresh({
      down: {
        callback: function() {
          var self = this;
          setTimeout(function() {
            var ul = self.element.querySelector('.mui-table-view');
            ul.insertBefore(createFragment(ul, index, 10, true), ul.firstChild);
            self.endPullDownToRefresh();
          }, 1000);
        }
      },
      up: {
        callback: function() {
          var self = this;
          setTimeout(function() {
            var ul = self.element.querySelector('.mui-table-view');
            ul.appendChild(createFragment(ul, index, 5));
            self.endPullUpToRefresh();
          }, 1000);
        }
      }
    });
  });
  var createFragment = function(ul, index, count, reverse) {
    var length = ul.querySelectorAll('li').length;
    var fragment = document.createDocumentFragment();
    var li;
    var html = '<div class="neighbor-info">'
                + '<div class="neighbor-info-header">'
                  + '<img src="./img/neightbor/header.png">'
                  + '<div class="f-info">'
                    + '<span class="f-nick">物业</span>'
                    + '<span class="f-date">28分钟前</span>'
                  + '</div>'
                + '</div>'
                + '<div class="neighbor-info-content">'
                  + '<h5>停水通知</h5>'
                  + '<p>小区自来水管道维修，与6月28日停水一天</p>'
                  + '<div class="neighbor-info-img-3">'
                    + '<img src="./img/neightbor/mao.png">'
                  + '</div>'
                + '</div>'
              + '</div>';
    for (var i = 0; i < count; i++) {
      li = document.createElement('li');
      li.className = 'mui-table-view-cell';
      li.innerHTML = html;
      fragment.appendChild(li);
    }
    return fragment;
  };
</script>
</body>
</html>